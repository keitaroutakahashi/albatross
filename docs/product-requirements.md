# プロダクト要求定義書（Product Requirements Document）

## プロダクト概要

### 名称

**Albatross** - 草野球チーム Albatross 管理 Web アプリケーション

### プロダクトコンセプト

- **情報の一元化**: チームに関するすべての情報を一箇所に集約し、「何か知りたいときに最初に訪れる場所」を実現
- **成績の永続化**: 試合結果・選手成績をデジタルデータとして永続的に保存し、いつでも振り返り可能
- **運営の効率化**: スコア入力やイベント管理を簡単に行え、運営メンバーの負担を軽減

### プロダクトビジョン

草野球チーム Albatross のすべての情報を一元管理し、メンバーが「何か知りたいときに最初に訪れる場所」となる Web アプリケーションを構築する。
紙ベースの管理や情報の散在を解消し、チームの歴史（成績・記録）をデジタルで永続的に残す。
運営メンバーの管理作業を効率化し、全メンバーが必要な情報に迷わずアクセスできる環境を提供する。

### 目的

1. **成績の永続化**: 試合結果・選手成績をデジタルデータとして永続的に保存
2. **情報アクセスの改善**: 必要な情報にすぐにアクセスできる環境の提供
3. **運営工数の削減**: チーム運営に関わる管理作業の効率化
4. **情報の一元管理**: 複数リーグや各種ドキュメントを統合管理

---

## ターゲットユーザー

Albatross に関わるすべてのメンバー（約 20 名以上）

### プライマリーペルソナ 1: 山田太郎（35 歳、選手）

- 週末に草野球を楽しむ社会人プレイヤー
- 普段はスマートフォンでの Web 閲覧が中心
- 自分の成績や過去の試合結果を振り返りたい
- 今後の予定（試合・練習・懇親会）を確認したい
- チームの規約やルールを必要なときに確認したい
- **1 日のワークフロー**: 週末の試合後、翌週に結果を確認。次のイベント前に予定を確認

### プライマリーペルソナ 2: 鈴木花子（40 歳、運営メンバー）

- 試合のスコア管理やイベント運営を担当
- 試合後にスコアを簡単に入力したい
- イベントの作成・編集を効率的に行いたい
- ドキュメント（規約、会計資料）を管理したい
- **現在の課題**: 紙でのスコア管理、LINE での情報共有で情報が散逸
- **1 日のワークフロー**: 試合日にスコアを記録、週初めにイベント情報を更新

### プライマリーペルソナ 3: 佐藤一郎（45 歳、管理者）

- チーム全体の管理責任者
- メンバーのアカウント管理を行いたい
- すべてのデータを編集・削除できる権限が必要
- チームの運営状況を俯瞰的に把握したい
- **1 日のワークフロー**: 週次でチームの活動状況を確認、必要に応じてデータ修正

### ユーザー種別と権限

| ユーザー種別 | 説明                                           | 閲覧 | 作成・編集 | ユーザー管理 | 削除 |
| ------------ | ---------------------------------------------- | ---- | ---------- | ------------ | ---- |
| 管理者       | チーム全体の管理権限を持つユーザー             | ○    | ○          | ○            | ○    |
| 運営メンバー | 試合スコア・イベント等の編集権限を持つユーザー | ○    | ○          | ×            | ×    |
| 選手         | 情報の閲覧を中心に利用するユーザー             | ○    | ×          | ×            | ×    |

---

## 成功指標（KPI）

### プライマリー KPI

- **アクティブユーザー率**: チームメンバーの 80% 以上が月 1 回以上ログイン（リリース 3 ヶ月後）
- **情報アクセスの改善**: 「情報を調べる際にまずこのアプリを見る」と回答するメンバーが 70% 以上（リリース 6 ヶ月後のアンケートで測定）

### セカンダリー KPI

- **データ登録率**: 試合の 90% 以上がアプリに登録される（リリース 3 ヶ月後）
- **運営工数削減**: 運営メンバーが「管理作業が楽になった」と回答する割合 80% 以上（リリース 6 ヶ月後）

---

## 機能要件

### コア機能（MVP）

#### 1. 認証機能

**ユーザーストーリー**:
メンバーとして、自分のアカウントでログインするために、メールアドレスとパスワードによる認証機能が欲しい

**受け入れ条件**:

- [ ] メールアドレスとパスワードでユーザー登録ができる
- [ ] ログイン・ログアウトができる
- [ ] パスワードを変更できる
- [ ] パスワードをリセットできる（メール送信）
- [ ] ユーザーには「管理者」「運営」「選手」の 3 種類の役割がある
- [ ] 役割に応じたアクセス制御が機能している

**優先度**: P0（必須）

#### 2. 試合スコア管理

**ユーザーストーリー**:
運営メンバーとして、試合後にスコアを記録するために、試合情報とイニングごとの得点を入力できる機能が欲しい

**受け入れ条件**:

- [ ] 試合情報を登録できる（日時、場所、対戦相手、リーグ名）
- [ ] イニングごとの得点を入力・編集できる
- [ ] 試合結果（勝敗）が自動計算される
- [ ] 試合一覧を閲覧できる（シーズン・リーグでフィルタ可能）
- [ ] 試合詳細（スコアボード形式）を閲覧できる
- [ ] 試合情報を編集できる（運営・管理者）
- [ ] 試合情報を削除できる（管理者のみ）

**優先度**: P0（必須）

#### 3. 選手成績管理

**ユーザーストーリー**:
選手として、自分の成績を確認するために、打撃・投手成績を閲覧できる機能が欲しい

**受け入れ条件**:

- [ ] 打撃成績を登録・編集できる（打席、打数、安打、二塁打、三塁打、本塁打、打点、四球、三振、盗塁）
- [ ] 投手成績を登録・編集できる（勝敗、セーブ、投球回、自責点、失点、被安打、奪三振、与四球）
- [ ] 成績一覧を閲覧できる（全メンバーが全選手の成績を閲覧可能）
- [ ] 個人成績詳細を閲覧できる
- [ ] シーズン別・通算の成績集計が自動計算される
- [ ] 打率・防御率などの指標が自動計算される
- [ ] チーム内ランキングを表示できる（打率、打点、本塁打など）

**優先度**: P0（必須）

#### 4. イベント管理

**ユーザーストーリー**:
メンバーとして、今後の予定を確認するために、イベント一覧とカレンダーを閲覧できる機能が欲しい

**受け入れ条件**:

- [ ] イベントを作成・編集できる（日時、場所、内容、種別）
- [ ] イベント種別を選択できる（試合、練習、懇親会、その他）
- [ ] イベント一覧を閲覧できる
- [ ] イベントをカレンダー形式で表示できる
- [ ] イベント詳細を閲覧できる
- [ ] イベントを削除できる（管理者のみ）

**優先度**: P0（必須）

#### 5. ドキュメント管理

**ユーザーストーリー**:
メンバーとして、チームの規約や資料を確認するために、ドキュメントを閲覧・ダウンロードできる機能が欲しい

**受け入れ条件**:

- [ ] ドキュメントをアップロードできる（運営・管理者）
- [ ] ドキュメントにタイトル・説明・カテゴリを設定できる
- [ ] ドキュメントカテゴリは固定 3 種類（チーム規約・ルール、試合関連資料、会計・経費関連）
- [ ] ドキュメント一覧を閲覧できる（カテゴリ別）
- [ ] ドキュメントを閲覧・ダウンロードできる
- [ ] ドキュメントを編集・削除できる（運営・管理者/管理者のみ）

**優先度**: P0（必須）

#### 6. マスタ管理

**ユーザーストーリー**:
管理者として、試合登録時に選択できる項目を管理するために、リーグ・グラウンド・対戦相手のマスタデータを管理できる機能が欲しい

**受け入れ条件**:

- [ ] シーズン（年度）を管理できる
- [ ] リーグを作成・編集・削除できる
- [ ] グラウンドを作成・編集・削除できる（住所、アクセス情報含む）
- [ ] 対戦相手チームを作成・編集・削除できる

**優先度**: P0（必須）

#### 7. ユーザー管理（管理者機能）

**ユーザーストーリー**:
管理者として、メンバーのアカウントを管理するために、ユーザー一覧の閲覧と権限設定ができる機能が欲しい

**受け入れ条件**:

- [ ] ユーザー一覧を閲覧できる
- [ ] ユーザーの役割（権限）を変更できる
- [ ] ユーザーを削除できる

**優先度**: P0（必須）

#### 8. ダッシュボード（ホーム画面）

**ユーザーストーリー**:
メンバーとして、チームの状況を一目で把握するために、主要な情報をまとめたダッシュボードが欲しい

**受け入れ条件**:

- [ ] シーズン成績サマリー（勝敗、勝率）を表示できる
- [ ] 直近の試合結果を表示できる
- [ ] 今後の予定（イベント）を表示できる
- [ ] 各機能（試合、成績、イベント、ドキュメント）へのショートカットを表示できる

**優先度**: P0（必須）

### 将来的な機能（Post-MVP）

#### 出欠確認機能

イベントへの参加可否をアプリ上で回答できる機能

**優先度**: P2（できれば）

#### LINE 連携

通知やリマインダーを LINE で受け取れる機能

**優先度**: P2（できれば）

#### プッシュ通知

新しい試合結果やイベントの通知機能

**優先度**: P2（できれば）

#### 写真・動画共有

試合やイベントの写真・動画をアップロード・共有できる機能

**優先度**: P2（できれば）

---

## 非機能要件

### パフォーマンス

- 初期ページロード: 3 秒以内（3G 回線環境で）
- ページ遷移: 1 秒以内
- API レスポンス: 500ms 以内
- Core Web Vitals: LCP 2.5 秒以内、INP 200ms 以内、CLS 0.1 以下

### ユーザビリティ

- レスポンシブデザイン: モバイル・デスクトップ両対応（モバイル優先）
- 新規ユーザーが 5 分以内に基本操作（閲覧）を習得できる
- WCAG 2.1 AA 準拠（目標）
- キーボードナビゲーション対応
- スクリーンリーダー対応

### 信頼性

- 可用性: 99% 以上の稼働率
- データ損失ゼロ（データベースバックアップ）
- エラー発生時の適切なエラーメッセージ表示

### セキュリティ

- HTTPS 通信（TLS 1.2 以上）
- パスワードのハッシュ化保存（bcrypt 等）
- セッション管理（適切な有効期限設定）
- RBAC（ロールベースアクセス制御）
- CSRF 対策
- XSS 対策

### スケーラビリティ

- 同時接続ユーザー数: 50 人以上（チーム規模を考慮）
- データ保存量: 5 年分以上の試合・成績データ

---

## スコープ外

明示的にスコープ外とする項目:

- 他チームへの展開・マルチテナント対応
- 収益化機能（広告、課金）
- チーム内チャット機能
- リアルタイムスコア更新（WebSocket）
- ネイティブアプリ（iOS/Android）
- 外部サービス連携（Google カレンダー等）※ LINE 連携は将来検討

---

## ビジネス要件

### 利用形態

- Albatross チーム専用として運用
- 収益化は行わない
- 他チームへの展開予定なし

### 運用コスト

- サーバー・インフラコストは最小限に抑える
- Vercel の無料枠または低コストプランで運用

### 継続性

- チームメンバーが継続的にメンテナンス可能な技術スタックを採用
- ドキュメントを整備し、引き継ぎを容易にする

---

## 更新履歴

| 日付       | 更新内容 | 更新者 |
| ---------- | -------- | ------ |
| 2025-01-12 | 初版作成 | -      |
