# プロダクト要求定義書（Product Requirements）

## 概要

草野球チーム Albatross（Alba）の管理 Web アプリケーションのプロダクト要求を定義します。

---

## プロダクトビジョンと目的

### ビジョン

草野球チーム Albatross のすべての情報を一元管理し、メンバーが「何か知りたいときに最初に訪れる場所」となる Web アプリケーションを構築する。

### 目的

1. **成績の永続化**: 試合結果・選手成績をデジタルデータとして永続的に保存
2. **情報アクセスの改善**: 必要な情報にすぐにアクセスできる環境の提供
3. **運営工数の削減**: チーム運営に関わる管理作業の効率化
4. **情報の一元管理**: 複数リーグや各種ドキュメントを統合管理

---

## ターゲットユーザーと課題・ニーズ

### ターゲットユーザー

Albatross に関わるすべてのメンバー（約 20 名以上）

| ユーザー種別 | 説明                                           |
| ------------ | ---------------------------------------------- |
| 管理者       | チーム全体の管理権限を持つユーザー             |
| 運営メンバー | 試合スコア・イベント等の編集権限を持つユーザー |
| 選手         | 情報の閲覧を中心に利用するユーザー             |

### 現状の課題

1. **紙ベースの管理**

   - 試合と選手成績が紙で管理されており、必要な情報へのアクセスが困難

2. **情報の分散**

   - 特定リーグのスコアは Web 上で管理できているが、複数リーグを跨いだ一括管理ができていない
   - 試合以外のイベント（練習、懇親会等）の管理が統一されていない

3. **運営コミュニケーションの非効率**

   - 運営メンバーは LINE で各種連絡を行っており、情報が散逸しやすい

4. **ドキュメントの散在**
   - チーム規約、試合関連資料、会計資料などが一元管理されていない

### ニーズ

- 過去の試合結果・成績をすぐに確認したい
- 複数リーグの成績を統合して閲覧したい
- チームの各種ドキュメントに簡単にアクセスしたい
- 運営作業を効率化したい

---

## 主要な機能一覧

### 1. 試合スコア管理

試合の結果とスコアを記録・管理する機能

- 試合基本情報（日時、場所、対戦相手、リーグ名）
- スコア（イニングごとの得点）
- 勝敗記録

### 2. 選手成績管理

選手個人の成績を記録・管理する機能

- **打撃成績**: 打率、打数、安打、本塁打、打点、四球、三振、盗塁 など
- **投手成績**: 防御率、勝敗、投球回、奪三振、与四球、被安打 など
- **成績集計**: シーズン別、リーグ別、通算の成績集計
- **閲覧権限**: 全メンバーが全選手の成績を閲覧可能

### 3. イベント管理

チーム活動に関するイベントを管理する機能

- **対象イベント**: 試合、練習、懇親会、旅行、合宿などすべてのチーム活動
- イベント基本情報（日時、場所、内容）
- イベント一覧・カレンダー表示
- 出欠確認機能（将来的に実装を検討）

### 4. ドキュメント管理

チームの各種ドキュメントを一元管理する機能

- **チーム規約・ルール**: チームの規約、ルール、マニュアル
- **試合関連資料**: リーグ規定、グラウンド情報、対戦相手情報
- **会計・経費関連**: 会費、経費精算、予算などの財務資料

---

## 成功の定義

### 定量的指標

- チームメンバーの 80% 以上がアクティブユーザーとなる
- 「情報を調べる際にまずこのアプリを見る」と回答するメンバーが 70% 以上

### 定性的指標

- 現状の課題（紙管理、情報分散、ドキュメント散在）が解消されている
- 運営メンバーの管理作業工数が削減されている
- メンバーが必要な情報に迷わずアクセスできる

---

## ビジネス要件

### 利用形態

- **Albatross チーム専用**として運用
- 収益化は行わない
- 他チームへの展開予定なし

### 運用コスト

- サーバー・インフラコストは最小限に抑える
- Vercel の無料枠または低コストプランで運用

### 継続性

- チームメンバーが継続的にメンテナンス可能な技術スタックを採用
- ドキュメントを整備し、引き継ぎを容易にする

---

## ユーザーストーリー

### 選手として

- 自分の成績を確認したい（打率、打点などの推移を見たい）
- 他のメンバーの成績を見てチーム全体の状況を把握したい
- 過去の試合結果を振り返りたい
- 今後のイベント予定を確認したい
- チームの規約やルールを確認したい

### 運営メンバーとして

- 試合後にスコアを簡単に入力したい
- 選手の成績を登録・編集したい
- イベントを作成・編集したい
- ドキュメントをアップロード・更新したい

### 管理者として

- メンバーのアカウントを管理したい
- メンバーの権限を設定したい
- すべてのデータを編集・削除できるようにしたい

---

## 受け入れ条件

### 認証・認可

- [ ] メールアドレスとパスワードでユーザー登録ができる
- [ ] ログイン・ログアウトができる
- [ ] ユーザーには「管理者」「運営」「選手」の 3 種類の役割がある
- [ ] 役割に応じたアクセス制御が機能している

### 試合スコア管理

- [ ] 試合情報を登録できる（運営・管理者）
- [ ] 試合スコアを入力・編集できる（運営・管理者）
- [ ] 試合一覧を閲覧できる（全ユーザー）
- [ ] 試合詳細を閲覧できる（全ユーザー）

### 選手成績管理

- [ ] 選手の打撃成績を登録・編集できる（運営・管理者）
- [ ] 選手の投手成績を登録・編集できる（運営・管理者）
- [ ] 成績一覧を閲覧できる（全ユーザー）
- [ ] 個人成績詳細を閲覧できる（全ユーザー）
- [ ] シーズン別・通算の成績集計が表示される

### イベント管理

- [ ] イベントを作成・編集できる（運営・管理者）
- [ ] イベント一覧を閲覧できる（全ユーザー）
- [ ] イベント詳細を閲覧できる（全ユーザー）

### ドキュメント管理

- [ ] ドキュメントをアップロード・編集できる（運営・管理者）
- [ ] ドキュメント一覧を閲覧できる（全ユーザー）
- [ ] ドキュメントをダウンロード・閲覧できる（全ユーザー）

---

## 機能要件

### 認証機能

| 機能               | 説明                                 |
| ------------------ | ------------------------------------ |
| ユーザー登録       | メールアドレスとパスワードで新規登録 |
| ログイン           | メールアドレスとパスワードで認証     |
| ログアウト         | セッションを終了                     |
| パスワード変更     | 自身のパスワードを変更               |
| パスワードリセット | メールによるパスワードリセット       |

### 権限管理

| 役割   | 閲覧 | 作成・編集 | ユーザー管理 | 削除 |
| ------ | ---- | ---------- | ------------ | ---- |
| 管理者 | ○    | ○          | ○            | ○    |
| 運営   | ○    | ○          | ×            | ×    |
| 選手   | ○    | ×          | ×            | ×    |

### 試合スコア管理

| 機能       | 説明                                 |
| ---------- | ------------------------------------ |
| 試合登録   | 試合の基本情報を登録                 |
| スコア入力 | イニングごとの得点を入力（手動入力） |
| 試合一覧   | 登録済み試合の一覧表示               |
| 試合詳細   | 試合のスコア・詳細情報を表示         |
| 試合編集   | 登録済み試合情報の編集               |
| 試合削除   | 試合情報の削除（管理者のみ）         |

### 選手成績管理

| 機能       | 説明                                     |
| ---------- | ---------------------------------------- |
| 成績登録   | 試合ごとの個人成績を登録                 |
| 成績編集   | 登録済み成績の編集                       |
| 成績一覧   | 選手別・試合別の成績一覧                 |
| 成績詳細   | 選手の詳細成績表示                       |
| 成績集計   | シーズン別、リーグ別、通算の成績自動集計 |
| ランキング | 打率、打点等のチーム内ランキング表示     |

### イベント管理

| 機能           | 説明                           |
| -------------- | ------------------------------ |
| イベント登録   | イベントの基本情報を登録       |
| イベント編集   | 登録済みイベントの編集         |
| イベント一覧   | イベントの一覧表示             |
| イベント詳細   | イベントの詳細情報表示         |
| カレンダー表示 | カレンダー形式でのイベント表示 |
| イベント削除   | イベントの削除（管理者のみ）   |

### ドキュメント管理

| 機能             | 説明                                 |
| ---------------- | ------------------------------------ |
| ドキュメント登録 | ファイルのアップロードと情報登録     |
| ドキュメント編集 | ドキュメント情報の編集               |
| ドキュメント一覧 | ドキュメントの一覧表示（カテゴリ別） |
| ドキュメント閲覧 | ドキュメントの閲覧・ダウンロード     |
| ドキュメント削除 | ドキュメントの削除（管理者のみ）     |

---

## 非機能要件

### パフォーマンス

- 初期ページロード: 3 秒以内
- ページ遷移: 1 秒以内
- API レスポンス: 500ms 以内

### 可用性

- 99% 以上の稼働率を目標

### セキュリティ

- HTTPS 通信（TLS 1.2 以上）
- パスワードのハッシュ化保存
- セッション管理
- RBAC（ロールベースアクセス制御）

### ユーザビリティ

- レスポンシブデザイン（モバイル・デスクトップ対応）
- 直感的な UI/UX
- WCAG 2.1 AA 準拠（目標）

### 保守性

- コードの可読性を重視
- 適切なドキュメント整備
- テストコードの整備

---

## 将来的な検討事項

以下の機能は初期リリースには含めず、将来的に検討する。

- 出欠確認機能（イベントへの参加可否をアプリ上で回答）
- LINE 連携（通知、リマインダー）
- プッシュ通知
- 写真・動画のアップロード・共有
- チーム内チャット機能

---

## 更新履歴

| 日付       | 更新内容 | 更新者 |
| ---------- | -------- | ------ |
| 2025-01-11 | 初版作成 | -      |
